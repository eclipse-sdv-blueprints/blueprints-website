<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-service-to-signal/README" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">service-to-signal-blueprint | Eclipse SDV Blueprints</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://sdv-blueprints.eclipse.dev/img/sdvblueprints-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://sdv-blueprints.eclipse.dev/img/sdvblueprints-social-card.jpg"><meta data-rh="true" property="og:url" content="https://sdv-blueprints.eclipse.dev/docs/service-to-signal/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="service-to-signal-blueprint | Eclipse SDV Blueprints"><meta data-rh="true" name="description" content="In this Service-To-Signal Blueprint we show how one can implement a service over Eclipse uProtocol where the interface definition is part of the COVESA uServices. We use the Rust implementation of the Eclipse Zenoh transport of Eclipse uProtocol. The service implementation further relies on the interaction with VSS Signals, brokered in an Eclipse Kuksa Databroker."><meta data-rh="true" property="og:description" content="In this Service-To-Signal Blueprint we show how one can implement a service over Eclipse uProtocol where the interface definition is part of the COVESA uServices. We use the Rust implementation of the Eclipse Zenoh transport of Eclipse uProtocol. The service implementation further relies on the interaction with VSS Signals, brokered in an Eclipse Kuksa Databroker."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://sdv-blueprints.eclipse.dev/docs/service-to-signal/"><link data-rh="true" rel="alternate" href="https://sdv-blueprints.eclipse.dev/docs/service-to-signal/" hreflang="en"><link data-rh="true" rel="alternate" href="https://sdv-blueprints.eclipse.dev/docs/service-to-signal/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.7ed1909c.css">
<link rel="preload" href="/assets/js/runtime~main.0f67a1a8.js" as="script">
<link rel="preload" href="/assets/js/main.021fed8f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/logos/eclipsesdvblueprint_transparent.png" alt="Eclipse SDV Blueprints" class="themedImage_ToTc themedImage--light_HNdA"><img src="/logos/eclipsesdvblueprint_transparent.png" alt="Eclipse SDV Blueprints" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/overview">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/eclipse-sdv-blueprints" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/overview">Blueprints Documentation</a><button aria-label="Toggle the collapsible sidebar category &#x27;Blueprints Documentation&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/companion-application/">Companion Application</a><button aria-label="Toggle the collapsible sidebar category &#x27;Companion Application&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fleet-management/introduction">Fleet Management</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/docs/service-to-signal/">Service to Signal</a><button aria-label="Toggle the collapsible sidebar category &#x27;Service to Signal&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/service-to-signal/components/horn-service-kuksa/">Horn Service Kuksa</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/service-to-signal/components/horn-client/">Horn Client</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/service-to-signal/components/actuator-provider/">Actuator Provider</a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/overview"><span itemprop="name">Blueprints Documentation</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Service to Signal</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>service-to-signal-blueprint</h1><p>In this Service-To-Signal Blueprint we show how one can implement a service over Eclipse uProtocol where the interface definition is part of the COVESA uServices. We use the Rust implementation of the Eclipse Zenoh transport of Eclipse uProtocol. The service implementation further relies on the interaction with VSS Signals, brokered in an Eclipse Kuksa Databroker.</p><p><img loading="lazy" alt="Overview of Service to Signal Blueprint" src="/assets/images/overview.drawio-e7cdfac15f4b3718b97fda873d9bf86f.png" width="461" height="641" class="img_ev3q"></p><p>In order to apply the requested changes we need a so-called Eclipse Kuksa <em>Provider</em> to communicate the requested changes from the Kuksa Databroker to the underlying hardware.
In many current vehicles this might be done over a CAN-bus.
Since this blueprint focuses more on future vehicle generations and is intended as a technology showcase, we use Eclipse Zenoh instead.
We use the Eclipse Kuksa Zenoh Provider which forwards messages between the gRPC-API of the Eclipse Kuksa Databroker and topics in the Zenoh network concerning the relevant and configurable VSS signals.</p><p>Translating between the HTTP/2 based gRPC communication and Eclipse Zenoh makes it possible to connect embedded devices like an Arduino or ESP32 which can use the <a href="https://github.com/eclipse-zenoh/zenoh-pico" target="_blank" rel="noopener noreferrer">PicoZenoh implementation</a>.
If you do not have such hardware available, there is also the option to use a Zenoh client in software as the <em>software horn</em>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="components">Components<a href="#components" class="hash-link" aria-label="Direct link to Components" title="Direct link to Components">​</a></h2><p>In the following, we give a more detailed overview of the different involved components.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="horn-service-implementation">Horn Service Implementation<a href="#horn-service-implementation" class="hash-link" aria-label="Direct link to Horn Service Implementation" title="Direct link to Horn Service Implementation">​</a></h3><p>The <a href="/docs/service-to-signal/components/horn-service-kuksa/">horn service implementation</a> provides the interfaces defined in the <a href="https://github.com/COVESA/uservices/blob/main/src/main/proto/vehicle/body/horn/v1/horn_service.proto" target="_blank" rel="noopener noreferrer">COVESA Horn uService</a>.
The implementation utilizes the <a href="https://github.com/COVESA/vehicle_signal_specification/blob/6024c4b29065b37c074649a1a65396b9d4de9b55/spec/Body/Body.vspec#L65" target="_blank" rel="noopener noreferrer"><code>Vehicle.Body.Horn.IsActive</code> COVESA VSS Signal</a> managed by the Eclipse KUKSA Databroker.
We use Eclipse Zenoh as transport for the provided Horn service over Eclipse uProtocol.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="horn-client-app">Horn Client (App)<a href="#horn-client-app" class="hash-link" aria-label="Direct link to Horn Client (App)" title="Direct link to Horn Client (App)">​</a></h3><p>The App is a consumer of the Horn service and triggers the execution of specific Horn sequences through this interface. There is the <a href="/docs/service-to-signal/components/horn-client/">horn-client</a> which interacts with the horn service in a pre-defined way and serves as a basic example of how an app can use the horn service.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kuksa-databroker">Kuksa Databroker<a href="#kuksa-databroker" class="hash-link" aria-label="Direct link to Kuksa Databroker" title="Direct link to Kuksa Databroker">​</a></h3><p>The <a href="https://github.com/eclipse-kuksa/kuksa-databroker" target="_blank" rel="noopener noreferrer">Kuksa Databroker</a> acts as a vehicle abstraction layer and manages the interaction between applications and vehicle signals defined in the Vehicle Signal Specification.
Consumers of the <code>kuksa.val.v1</code> API, implemented by the Kuksa Databroker, can get, subscribe and write to the target or the current value of such a signal within the Kuksa Databroker.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="embedded-horn-activator">Embedded Horn Activator<a href="#embedded-horn-activator" class="hash-link" aria-label="Direct link to Embedded Horn Activator" title="Direct link to Embedded Horn Activator">​</a></h3><p>We need one component which actually performs the signaling of the Horn. In the easiest setup this is a small program which writes to the console whenever the VSS signal <code>Vehicle.Body.Horn.IsActive</code> is <code>True</code>. To make the setup a bit more realisitic we decided to integrate hardware like an ESP32 for which there is the <a href="/docs/service-to-signal/components/actuator-provider/">actuator-provider</a></p><p>These smaller hardware platforms struggle with running a full HTTP/2 based gRPC stack which is one of the reasons to utilize Zenoh with the <a href="https://github.com/eclipse-zenoh/zenoh-pico" target="_blank" rel="noopener noreferrer">Zenoh-Pico</a> implementation as transport here.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="software-horn">Software Horn<a href="#software-horn" class="hash-link" aria-label="Direct link to Software Horn" title="Direct link to Software Horn">​</a></h3><p>To allow a quick setup of the overall system and in case you do not have an ESP32 hardware available to run the <a href="#embedded-horn-activator">embedded horn activator</a>, there is an alternative software horn. This components connects to the Zenoh router as well and logs the state of the Horn to the console. Optionally, the software horn can play a sound when the horn is active.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kuksa-zenoh-provider">Kuksa Zenoh Provider<a href="#kuksa-zenoh-provider" class="hash-link" aria-label="Direct link to Kuksa Zenoh Provider" title="Direct link to Kuksa Zenoh Provider">​</a></h3><p>For the integration of the hardware controlling the horn, we use Zenoh as transport.
So the <a href="#embedded-horn-activator">horn actuator provider</a> publishes and subscribes on a Zenoh topic which is derived from the respective COVESA VSS signal in the Kuksa Databroker.
In the case of the Horn, the topic is <code>Vehicle/Body/Horn/IsActive</code>.
It is then the responsibility of the Zenoh-Kuksa-Provider to listen to these topics and forward the messages between the Zenoh network and the Kuksa Databroker using gRPC.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="zenoh-router">Zenoh Router<a href="#zenoh-router" class="hash-link" aria-label="Direct link to Zenoh Router" title="Direct link to Zenoh Router">​</a></h3><p>The Zenoh router routes message between the <a href="#kuksa-zenoh-provider">Kuksa-Zenoh-Provider</a> and the Horn (<a href="#embedded-horn-activator">Embedded Horn Activator</a> or <a href="#software-horn">Software Horn</a>). We use the upstream available <a href="https://zenoh.io/docs/getting-started/quick-test/#run-zenoh-in-docker" target="_blank" rel="noopener noreferrer">Docker image</a> of the Zenoh router and reference it in the Docker Compose file located in <code>service-to-signal-compose.yaml</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="quick-start">Quick Start<a href="#quick-start" class="hash-link" aria-label="Direct link to Quick Start" title="Direct link to Quick Start">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-the-zenoh-kuksa-provider">Configuring the zenoh-kuksa-provider<a href="#configuring-the-zenoh-kuksa-provider" class="hash-link" aria-label="Direct link to Configuring the zenoh-kuksa-provider" title="Direct link to Configuring the zenoh-kuksa-provider">​</a></h3><ol><li>Initialize the kuksa-incubation submodule to add the zenoh-kuksa-provider to your components directory:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> submodule update --init</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As an alternative you can pull the service-to-signal repository directly by executing:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone --recurse-submodules https://github.com/eclipse-sdv-blueprints/service-to-signal.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>After that, the easiest way to set up and start the services is by means of using the Docker Compose file in the top
level directory:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> compose -f service-to-signal-compose.yaml up --build --detach</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will pull or build (if necessary) the container images, create, and start the required components, namely:</p><ul><li><a href="#horn-service-implementation">horn-service-kuksa</a></li><li><a href="#kuksa-databroker">Kuksa Databroker</a></li><li><a href="#kuksa-zenoh-provider">Kuksa-Zenoh Provider</a></li><li><a href="#zenoh-router">Zenoh Router</a></li><li><a href="#software-horn">Software Horn</a></li></ul><p>As a result the <code>horn-service-kuksa</code> becomes available on port 15000 on the host machine. You can then run the <a href="#horn-client-app">horn client</a> to invoke the <code>horn-service-kuksa</code>.</p><ol start="3"><li>In <code>components/horn-client/</code> run:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cargo run</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For more details read the documentation in the <a href="/docs/service-to-signal/components/horn-client/">horn client Readme</a>.</p><p>This requires that you installed the <a href="https://rustup.rs" target="_blank" rel="noopener noreferrer">Rust toolchain</a> on your computer. As an alternative you can umcomment the section for the <code>horn-client</code> in the <code>service-to-signal-compose.yaml</code> and re-deploy the modified Docker Compose setup.</p><ol start="4"><li>Check logs for Horn</li></ol><p>To see the status of the Horn and check whether the setup worked you can read the logs of the <code>software-horn</code>. To do this run:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> logs software-horn</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="optional-configuring-and-starting-the-actuator-provider-microcontroller-implementation">Optional: Configuring and starting the actuator provider (microcontroller implementation)<a href="#optional-configuring-and-starting-the-actuator-provider-microcontroller-implementation" class="hash-link" aria-label="Direct link to Optional: Configuring and starting the actuator provider (microcontroller implementation)" title="Direct link to Optional: Configuring and starting the actuator provider (microcontroller implementation)">​</a></h3><p>If you have the necessary hardware, you can replace the software-based horn with a
microcontroller-based actuator provider. To configure and build the application for
the microcontroller, follow the instructions provided for the
<a href="/docs/service-to-signal/components/actuator-provider/">actuator-provider</a>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/fleet-management/introduction"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/service-to-signal/components/horn-service-kuksa/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Horn Service Kuksa</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#components" class="table-of-contents__link toc-highlight">Components</a><ul><li><a href="#horn-service-implementation" class="table-of-contents__link toc-highlight">Horn Service Implementation</a></li><li><a href="#horn-client-app" class="table-of-contents__link toc-highlight">Horn Client (App)</a></li><li><a href="#kuksa-databroker" class="table-of-contents__link toc-highlight">Kuksa Databroker</a></li><li><a href="#embedded-horn-activator" class="table-of-contents__link toc-highlight">Embedded Horn Activator</a></li><li><a href="#software-horn" class="table-of-contents__link toc-highlight">Software Horn</a></li><li><a href="#kuksa-zenoh-provider" class="table-of-contents__link toc-highlight">Kuksa Zenoh Provider</a></li><li><a href="#zenoh-router" class="table-of-contents__link toc-highlight">Zenoh Router</a></li></ul></li><li><a href="#quick-start" class="table-of-contents__link toc-highlight">Quick Start</a><ul><li><a href="#configuring-the-zenoh-kuksa-provider" class="table-of-contents__link toc-highlight">Configuring the zenoh-kuksa-provider</a></li><li><a href="#optional-configuring-and-starting-the-actuator-provider-microcontroller-implementation" class="table-of-contents__link toc-highlight">Optional: Configuring and starting the actuator provider (microcontroller implementation)</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/companion-application/">Companion Application</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/service-to-signal/">Service to Signal</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/fleet-management/introduction">Fleet Management</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/eclipse-sdv-blueprints" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Eclipse Foundation. All Rights Reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.0f67a1a8.js"></script>
<script src="/assets/js/main.021fed8f.js"></script>
</body>
</html>