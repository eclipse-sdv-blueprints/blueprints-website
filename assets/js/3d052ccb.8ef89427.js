"use strict";(self.webpackChunkblueprints_website=self.webpackChunkblueprints_website||[]).push([[528],{5788:(e,t,n)=>{n.d(t,{Iu:()=>p,yg:()=>d});var o=n(1504);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},u="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(n),h=a,d=u["".concat(s,".").concat(h)]||u[h]||g[h]||r;return n?o.createElement(d,i(i({ref:t},p),{},{components:n})):o.createElement(d,i({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:a,i[1]=l;for(var c=2;c<r;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}h.displayName="MDXCreateElement"},5408:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>g,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var o=n(5072),a=(n(1504),n(5788));const r={},i="Troubleshooting",l={unversionedId:"companion-application/troubleshooting",id:"companion-application/troubleshooting",title:"Troubleshooting",description:"There are a few issues that you might run into when setting up the companion application. We collected them here, along with hints on how to resolve them. If you run into another problem that is not listed here, we welcome you to create an issue in the respective repository.",source:"@site/docs/companion-application/troubleshooting.md",sourceDirName:"companion-application",slug:"/companion-application/troubleshooting",permalink:"/docs/companion-application/troubleshooting",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"overallSidebar",previous:{title:"Interact with Seat Adjuster",permalink:"/docs/companion-application/interact-seat-adjuster"},next:{title:"Introduction",permalink:"/docs/fleet-management/introduction"}},s={},c=[{value:"General",id:"general",level:2},{value:"There was an error with the tag while creating your Release",id:"there-was-an-error-with-the-tag-while-creating-your-release",level:3},{value:"Eclipse Velocitas multiarch release workflow failing",id:"eclipse-velocitas-multiarch-release-workflow-failing",level:3},{value:"You get a 401 Unauthorized error when trying to download the container image of your application",id:"you-get-a-401-unauthorized-error-when-trying-to-download-the-container-image-of-your-application",level:3},{value:"DevContainer &amp; Docker",id:"devcontainer--docker",level:2},{value:"Project does not re-open in DevContainer",id:"project-does-not-re-open-in-devcontainer",level:3},{value:"DevContainer fails to open",id:"devcontainer-fails-to-open",level:3}],p={toc:c},u="wrapper";function g(e){let{components:t,...r}=e;return(0,a.yg)(u,(0,o.c)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"troubleshooting"},"Troubleshooting"),(0,a.yg)("p",null,"There are a few issues that you might run into when setting up the companion application. We collected them here, along with hints on how to resolve them. If you run into another problem that is not listed here, we welcome you ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/eclipse-sdv-blueprints/companion-application/issues"},"to create an issue in the respective repository"),"."),(0,a.yg)("h2",{id:"general"},"General"),(0,a.yg)("h3",{id:"there-was-an-error-with-the-tag-while-creating-your-release"},"There was an error with the tag while creating your Release"),(0,a.yg)("p",null,"For instance, a tag name cannot be blank, a tag name is not well-formed, and published releases must have a valid tag."),(0,a.yg)("p",null,'During the process of creating a release in GitHub, make sure to select or create a tag, e.g., in the "choose tag" drop-down.'),(0,a.yg)("p",null,(0,a.yg)("img",{alt:"create-tag",src:n(4560).c,width:"1116",height:"412"})),(0,a.yg)("h3",{id:"eclipse-velocitas-multiarch-release-workflow-failing"},"Eclipse Velocitas multiarch release workflow failing"),(0,a.yg)("p",null,"If any of the workflow (CI, Multiarch, Release) fail, one reason could be that the workflow is not able to push to the container registry linked to the repository due to missing permissions in Github."),(0,a.yg)("p",null,"You can fix this in the repository settings under\n",(0,a.yg)("inlineCode",{parentName:"p"},"Code and automation")," -> ",(0,a.yg)("inlineCode",{parentName:"p"},"General")," -> ",(0,a.yg)("inlineCode",{parentName:"p"},"Workflow permissions")),(0,a.yg)("p",null,"by selecting the option ",(0,a.yg)("inlineCode",{parentName:"p"},"Read and write permission"),"."),(0,a.yg)("p",null,(0,a.yg)("img",{alt:"read-and-write",src:n(5164).c,width:"857",height:"340"})),(0,a.yg)("p",null,"Another problem with the execution of the workflows could be that they are disabled for the repository. One can allow the execution of workflows in the repository through"),(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},"Settings")," > ",(0,a.yg)("inlineCode",{parentName:"p"},"Code and automation")," > ",(0,a.yg)("inlineCode",{parentName:"p"},"Action")," > ",(0,a.yg)("inlineCode",{parentName:"p"},"General")," > ",(0,a.yg)("inlineCode",{parentName:"p"},"Actions Permissions")),(0,a.yg)("p",null,'Make sure that the Actions permission is "Allow all actions and reusable workflows"'),(0,a.yg)("p",null,"Afterward, you can try to re-run the workflow in the workflow view."),(0,a.yg)("h3",{id:"you-get-a-401-unauthorized-error-when-trying-to-download-the-container-image-of-your-application"},"You get a 401 Unauthorized error when trying to download the container image of your application"),(0,a.yg)("p",null,"If the GitHub packages in which you stored the container image are private, Eclipse Kanto needs a valid access token to download the container image. Otherwise, it will just get the response ",(0,a.yg)("inlineCode",{parentName:"p"},"401 Unauthorized")," from GitHub."),(0,a.yg)("p",null,"You can create a personal access token in the ",(0,a.yg)("inlineCode",{parentName:"p"},"Settings")," of your GitHub account. Go to"),(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},"Developer Settings")," > ",(0,a.yg)("inlineCode",{parentName:"p"},"Personal access token")," > ",(0,a.yg)("inlineCode",{parentName:"p"},"Tokens (classic)")),(0,a.yg)("p",null,"and ",(0,a.yg)("inlineCode",{parentName:"p"},"generate a new token")," that at least has the ",(0,a.yg)("inlineCode",{parentName:"p"},"read:packages")," permission. Copy the generated token to a secure location or to Eclipse Kanto\nbecause GitHub will not show it again."),(0,a.yg)("p",null,"You can now configure Eclipse Kanto in Eclipse Leda to use the token by executing:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"sdv-kanto-ctl add-registry -h <registryhostname> -u <your_username> -p <your_password>\n")),(0,a.yg)("p",null,"In the case of GitHub, the ",(0,a.yg)("inlineCode",{parentName:"p"},"<registryhostname>")," is ",(0,a.yg)("inlineCode",{parentName:"p"},"ghcr.io"),"\n, ",(0,a.yg)("inlineCode",{parentName:"p"},"<your_username>")," is your GitHub handle, and ",(0,a.yg)("inlineCode",{parentName:"p"},"<your_password>")," is the generated token."),(0,a.yg)("p",null,"See ",(0,a.yg)("a",{parentName:"p",href:"https://eclipse-leda.github.io/leda/docs/device-provisioning/container-management/container-registries/"},"the Eclipse Leda documentation on Container Registries")," for more details."),(0,a.yg)("p",null,"Alternatively, you could change the visibility of your repository to ",(0,a.yg)("inlineCode",{parentName:"p"},"public")," if you are ok with everyone being able to see and download your application. You can change the visibility of the repository in the ",(0,a.yg)("inlineCode",{parentName:"p"},"Danger Zone")," at the bottom of the ",(0,a.yg)("inlineCode",{parentName:"p"},"Settings")," tab of the repository."),(0,a.yg)("h2",{id:"devcontainer--docker"},"DevContainer & Docker"),(0,a.yg)("h3",{id:"project-does-not-re-open-in-devcontainer"},"Project does not re-open in DevContainer"),(0,a.yg)("p",null,"This could, for example, come with an error message that the Docker daemon is not running."),(0,a.yg)("p",null,"One reason for this message could be that the regular user on your development computer does not have access rights to interact with the Docker daemon. To change your access rights, follow the Docker documentation on how to ",(0,a.yg)("a",{parentName:"p",href:"https://docs.docker.com/engine/install/linux-postinstall/#manage-docker-as-a-non-root-user"},"Manage Docker as a non-root user"),"."),(0,a.yg)("p",null,"As an alternative, you can close and re-run VSCode as root user with this command in the terminal:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},'sudo code --user-data-dir="~/.vscode-root"\n')),(0,a.yg)("h3",{id:"devcontainer-fails-to-open"},"DevContainer fails to open"),(0,a.yg)("p",null,"If the DevContainer does not start at all, make sure that you installed Docker correctly by checking the output of:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"docker --version\ndocker run hello-world\n")),(0,a.yg)("p",null,"If the problems persist, you might have a misconfiguration of your Docker installation."),(0,a.yg)("p",null,"Another issue could be that you are in the wrong Docker context. In order to debug the list, list the contexts with:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"docker context list\n")),(0,a.yg)("p",null,"If you see multiple contexts, try switching to the default or another one:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"docker context use default\n")),(0,a.yg)("p",null,"Once you have switched to a different context, try reopening in DevContainer."),(0,a.yg)("p",null,"If none of the above steps helped, you can try purge and re-install the whole Docker installation:"),(0,a.yg)("p",null,"In Ubuntu, this is possible with:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get purge docker-ce docker-ce-cli containerd.io\nsudo rm -rf /etc/docker/ /var/lib/docker/\n")),(0,a.yg)("p",null,"To avoid conflicts during the reinstallation, remove Docker repositories:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"sudo rm /etc/apt/sources.list.d/docker.list\nsudo apt-get update\n")),(0,a.yg)("p",null,"You can then follow the referenced documentation to either install the ",(0,a.yg)("a",{parentName:"p",href:"https://docs.docker.com/engine/install/#desktop"},"Docker Engine")," or a Docker distribution like ",(0,a.yg)("a",{parentName:"p",href:"https://www.docker.com"},"Docker Desktop")," or ",(0,a.yg)("a",{parentName:"p",href:"https://rancherdesktop.io"},"Rancher Desktop"),"."))}g.isMDXComponent=!0},5164:(e,t,n)=>{n.d(t,{c:()=>o});const o=n.p+"assets/images/action_general_workflow_permissions-0b844f924941aecbab2f5c5ac997f35d.png"},4560:(e,t,n)=>{n.d(t,{c:()=>o});const o=n.p+"assets/images/create-release-tag-ec6afe16583a9f1c6761051604ef839a.png"}}]);